<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Tiusella - Contactez-nous</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <div class="mainTitle">
        <h1 id="title"><a href="index.html">A Tiusella</a></h1>
    </div>
    <div class="subTitle">
        <h3 id="subtitle">Tra mare e monti</h3>
    </div>

    <div class="line">
    <hr>
    </div>

    <div class="menu">
        <ul>
            <li><a href="index.html">Accueil</a></li>
            <li class="deroulant"><a href="#">La Maison</a>
                <ul class="sous">
                    <li><a href="casamaio.html">A Casa MaÃ¬o</a></li>
                    <li><a href="casetta.html">A Casetta</a></li>
                </ul>
            </li>
            <li><a href="booking.html">RÃ©servez</a></li>
            <li><a href="found.html">Nous trouver</a></li>
            <li><a href="contact.html">Nous contacter</a></li>
            <li class="deroulant"><a href="#">Language</a>
                <ul class="sous">
                    <li><a href="index.html">FR ðŸ‡«ðŸ‡·</a></li>
                    <li><a href="./EN/EN_index.html">EN ðŸ‡¬ðŸ‡§</a></li>
                </ul>
            </li>
        </ul>
    </div>

<hr id="supHero">
<div class="hero">

</div>
<div class="main">
    
    <div class="central">

        <div class="contactCentralSubtitle">

            <h3>Nous contacter</h3>
            
        </div>

       
        <hr id="subtitleHr">
        
        <div class="formContact">

            <form class="form" method="post" >
                <p>Votre nom : </p>
                <input id="inputName" type="text" name="name" placeholder="Obligatoire" required>
                <p>Votre mail :</p>
                <input id="inputEmail" type="mail" name="email" placeholder="Obligatoire" required>
                <p>Objet :</p>
                <input id="inputObject" type="text" name="Objet" placeholder="Obligatoire" required>
                <p>Votre message : </p>
                <textarea id="inputMessage" name="Message" id="" cols="75" rows="15" placeholder="Obligatoire" required></textarea> <br>
                <button type='submit' id="submitBtn">Envoyer</button>
    
            </form>
        
        </div>
       


        

    </div>

    
</div>

<div class="footer">
    <ul>
        
        <li><a href="https://www.instagram.com/atiusella"><img src="src/free.png" alt="Instagram" srcset=""></a></li>
        <li><a href="https://www.facebook.com/atiusella"><img src="src/facebook.png" alt="Facebook" srcset=""></a></li>
        <li>-</li>
        <li><a href="cgv.html">Conditions GÃ©nÃ©rales de Vente </a></li>
        <li>-</li>
        <li>Â©A Tiusella 2021</li>
    </ul>
   
</div>

<script type='text/javascript' src='js/firebase.js'></script>
<script>


  // Import the functions you need from the SDKs you need
  import initializeApp  from "https://www.gstatic.com/firebasejs/9.1.0/firebase-app.js";
  import getAnalytics  from "https://www.gstatic.com/firebasejs/9.1.0/firebase-analytics.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyCxzQXyJMwM8dqVkHExhjz4Lxs3wqJ1Hss",
    authDomain: "plenary-axon-267021.firebaseapp.com",
    projectId: "plenary-axon-267021",
    storageBucket: "plenary-axon-267021.appspot.com",
    messagingSenderId: "420623649811",
    appId: "1:420623649811:web:ef9c61e9327337912b83e6",
    measurementId: "G-63YJRQ8S89"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);  
//grab a form
const form = document.querySelector('.form');

//grab an input
const inputEmail = form.querySelector('#inputEmail');
const inputName = form.querySelector('#inputName');
const inputMessage = form.querySelector('#inputMessage');
const inputObject = form.querySelector('#inputObject');


//config your firebase push
const config = {
    apiKey: "AIzaSyCfI_1234455glTdTNjFA3kAvmimlU",
    authDomain: "example-9167e.firebaseapp.com",
    databaseURL: "example-9167e.firebaseio.com",
    projectId: "example-9167e",
    storageBucket: "example-9167e.appspot.com",
    messagingSenderId: "6271234586832"
};


//create a functions to push
    function firebasePush(input) {


        //prevents from braking
        if (!firebase.apps.length) {
            firebase.initializeApp(config);
        }

        //push itself
        var mailsRef = firebase.database().ref('emails').push().set(
            {
                name: input.value,
                mail: input.value,
                object: input.value,
                message: input.value
            }
        );

    }

//push on form submit
    if (form) {
        form.addEventListener('submit', function (evt) {
            evt.preventDefault();
            firebasePush(inputName);
            firebasePush(inputObject);
            firebasePush(inputEmail);
            firebasePush(inputMessage);

            //shows alert if everything went well.
            return console.log('Data Successfully Sent to Realtime Database');
        })
    };
</script>
</body>
</html>